+++
title = "Blog Syntax Highlighter"
date = 2011-05-31T15:21:00Z
updated = 2011-06-19T17:31:02Z
tags = ["Code"]
blogimport = true 
[author]
	name = "Sean Wesenberg"
	uri = "https://plus.google.com/111523202047342274226"
+++

Finally unlazy enough to get a good syntax highlighter...<br /><br />Code:&nbsp;<a href="http://alexgorbatchev.com/SyntaxHighlighter/">http://alexgorbatchev.com/SyntaxHighlighter/</a><br /><br />Instructions:&nbsp;<a href="http://www.cyberack.com/2007/07/adding-syntax-highlighter-to-blogger.html">http://www.cyberack.com/2007/07/adding-syntax-highlighter-to-blogger.html</a><br /><br />Escape L-trims:&nbsp;<a href="http://accessify.com/tools-and-wizards/developer-tools/quick-escape/default.php">http://accessify.com/tools-and-wizards/developer-tools/quick-escape/default.php</a><br /><br /><pre class="brush:xml">&lt;!-- oxm integration --&gt;<br />  &lt;bean id="objectXmlMarshaller" class="org.springframework.oxm.xstream.XStreamMarshaller"/&gt;<br /><br /></pre><br /><br /><pre class="brush:java">package com.wookets.hibernate;<br /><br />import java.io.Serializable;<br />import java.sql.PreparedStatement;<br />import java.sql.ResultSet;<br />import java.sql.SQLException;<br />import java.sql.Types;<br /><br />import org.hibernate.HibernateException;<br />import org.hibernate.usertype.UserType;<br />import org.springframework.oxm.xstream.XStreamMarshaller;<br />import org.springframework.util.ObjectUtils;<br /><br />import com.wookets.spring.ServiceLocator;<br /><br />public class XmlType implements UserType {<br /><br />  private static final int[] SQL_TYPES = { Types.CLOB };<br /><br />  @Override<br />  public int[] sqlTypes() {<br />    return SQL_TYPES;<br />  }<br /><br />  @Override<br />  public Class returnedClass() {<br />    return Object.class;<br />  }<br /><br />  @Override<br />  public boolean equals(Object x, Object y) throws HibernateException {<br />    return ObjectUtils.nullSafeEquals(x, y);<br />  }<br /><br />  @Override<br />  public Object nullSafeGet(ResultSet resultSet, String[] names, Object owner) throws HibernateException, SQLException {<br />    Object result = null;<br />    String rawxml = resultSet.getString(names[0]);<br />    if(!resultSet.wasNull()) {<br />      result = getObjectXmlMarshaller().getXStream().fromXML(rawxml);<br />    }<br />    return result;<br />  }<br /><br />  @Override<br />  public void nullSafeSet(PreparedStatement statement, Object value, int index) throws HibernateException, SQLException {<br />    statement.setString(index, getObjectXmlMarshaller().getXStream().toXML(value));<br />  }<br /><br />  @Override<br />  public Object deepCopy(Object value) throws HibernateException {<br />    return value;<br />  }<br /><br />  @Override<br />  public boolean isMutable() {<br />    return true;<br />  }<br /><br />  @Override<br />  public Object assemble(Serializable arg0, Object arg1) throws HibernateException {<br />    throw new RuntimeException("Assemble is not implemented!");<br />  }<br /><br />  @Override<br />  public Serializable disassemble(Object arg0) throws HibernateException {<br />    throw new RuntimeException("Disassemble is not implemented!");<br />  }<br /><br />  @Override<br />  public int hashCode(Object arg0) throws HibernateException {<br />    return super.hashCode();<br />  }<br /><br />  @Override<br />  public Object replace(Object original, Object target, Object owner) throws HibernateException {<br />    return original;<br />  }<br /><br />  private XStreamMarshaller objectXmlMarshaller;<br /><br />  private XStreamMarshaller getObjectXmlMarshaller() {<br />    if(objectXmlMarshaller == null) {<br />      objectXmlMarshaller = ServiceLocator.getBean(XStreamMarshaller.class);<br />    }<br />    return objectXmlMarshaller;<br />  }<br />}<br /><br /></pre>
