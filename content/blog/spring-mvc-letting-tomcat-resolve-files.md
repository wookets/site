+++
title = "Spring MVC letting tomcat resolve files"
date = 2011-11-05T21:07:00Z
updated = 2011-11-05T21:07:21Z
tags = ["Code"]
blogimport = true 
[author]
	name = "Sean Wesenberg"
	uri = "https://plus.google.com/111523202047342274226"
+++

Finally found what I was looking for after much searching...<br /><br />In your web.xml:<br /><br /><br /><div class="p2"><span class="s1">&nbsp; </span>&lt;!-- Handles all requests into the application --&gt;</div><div class="p3"><span class="s1">&nbsp; </span><span class="s2">&lt;</span>servlet<span class="s2">&gt;</span></div><div class="p3"><span class="s1">&nbsp; &nbsp; </span><span class="s2">&lt;</span>servlet-name<span class="s2">&gt;</span><span class="s1">spring</span><span class="s2">&lt;/</span>servlet-name<span class="s2">&gt;</span></div><div class="p4">&nbsp; &nbsp; <span class="s2">&lt;</span><span class="s3">servlet-class</span><span class="s2">&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="s2">&lt;/</span><span class="s3">servlet-class</span><span class="s2">&gt;</span></div><div class="p3"><span class="s1">&nbsp; </span><span class="s2">&lt;/</span>servlet<span class="s2">&gt;</span></div><div class="p3"><span class="s1">&nbsp; </span><span class="s2">&lt;</span>servlet-mapping<span class="s2">&gt;</span></div><div class="p3"><span class="s1">&nbsp; &nbsp; </span><span class="s2">&lt;</span>servlet-name<span class="s2">&gt;</span><span class="s1">spring</span><span class="s2">&lt;/</span>servlet-name<span class="s2">&gt;</span></div><div class="p3"><span class="s1">&nbsp; &nbsp; </span><span class="s2">&lt;</span>url-pattern<span class="s2">&gt;</span><span class="s1">/*</span><span class="s2">&lt;/</span>url-pattern<span class="s2">&gt;</span></div><div class="p3"><span class="s1">&nbsp; </span><span class="s2">&lt;/</span>servlet-mapping<span class="s2">&gt;</span></div><div class="p3"><span class="s2"><br /></span></div><div class="p3"><span class="s2">The problem:&nbsp;</span></div><div class="p3"><span class="s2"><br /></span></div><div class="p3"><span class="s2">Spring's dispatcher servlet handles ALL requests... Yes, you get nice clean urls to your controller request mappings, but simple things like /index.html or / or /someimage.jpg fall apart. Spring attempts to run those requests through it's own view resolvers, when you most likely want to have the default tomcat servlet handle it.&nbsp;</span></div><div class="p3"><span class="s2"><br /></span></div><div class="p3"><span class="s2">It seems this can be fixed with a single line of code.&nbsp;</span></div><div class="p3"><br /></div><div class="p3"><span class="s2"></span></div><div class="p2"><span class="s1">&nbsp; </span>&lt;!-- Allows the default servlet to handle unmapped resources by trying to resolve to static resources --&gt;</div><div class="p3"><span class="s1">&nbsp; </span><span class="s2">&lt;</span>mvc:default-servlet-handler<span class="s2">/&gt;</span></div><div class="p3"><span class="s2"><br /></span></div><div class="p3"><span class="s2">Now, if your request doesn't match a registered RequestMapping, it will simply pass it through to the underlying servlet. So, /index.html, resolves to /index.html. And is not handled by spring or any view resolver, but by the servlet (in my case tomcat) which is the way it should be...&nbsp;</span></div><div class="p3"><span class="s2"><br /></span></div><div class="p3"><span class="s2"><br /></span></div><br />
